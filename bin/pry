#!/usr/bin/env python
import argparse


from pry import make_call_graph


def parse_arguments():
    arg_parser = argparse.ArgumentParser(
        description="Find call sites",
    )

    arg_parser.add_argument(
        'pattern',
        help="Pattern to search for",
    )

    return arg_parser.parse_args()


args = parse_arguments()
graph = make_call_graph(args.pattern)

for k, v in graph.items():
    print('%-10s %s' % (k, v))
